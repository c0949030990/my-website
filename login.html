<!doctype html>
<html lang="vi">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Happy Valentine's Day!</title>
	<link rel="icon" type="image/jpg" href="favicon.jpg">
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700&display=swap" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
	<style>
		* { box-sizing: border-box; }
		body {
			min-height: 100vh;
			margin: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			font-family: 'Playfair Display', Georgia, serif;
			background-color: #fff8f8;
			padding: 20px;
		}
		#qr-page {
			text-align: center;
			background: rgba(255,255,255,0.95);
			padding: 32px;
			border-radius: 16px;
			box-shadow: 0 8px 32px rgba(0,0,0,0.2);
			max-width: 90vw;
		}
		#qr-page h1 {
			margin: 0 0 8px 0;
			color: #333;
			font-size: 1.5rem;
		}
		#qr-page p {
			margin: 0 0 20px 0;
			color: #666;
			font-size: 0.95rem;
		}
		#qrcode-container {
			display: inline-block;
			padding: 16px;
			background: #fff;
			border-radius: 12px;
			box-shadow: inset 0 0 0 1px #eee;
		}
		#qrcode-container img,
		#qrcode-container canvas {
			display: block;
		}
		#qr-page .hint {
			margin-top: 20px;
			color: #888;
			font-size: 0.85rem;
		}
		#qr-page .file-warning {
			margin-top: 12px;
			padding: 10px 14px;
			background: #fff3cd;
			border-radius: 8px;
			color: #856404;
			font-size: 0.85rem;
			display: none;
		}
		#qr-page .admin-link {
			display: block;
			margin-top: 20px;
			font-size: 0.9rem;
			color: #666;
		}
		#qr-page .admin-link a {
			color: #c44;
			text-decoration: none;
		}
		#qr-page .admin-link a:hover {
			text-decoration: underline;
		}
	</style>
</head>
<body>
	<div id="qr-page">
		<h1>Happy Valentine's Day!</h1>
		<p>Quét mã QR bằng điện thoại (hoặc thiết bị khác) để mở trang</p>
		<div id="qrcode-container"></div>
		<p class="hint">Scan with your phone to open this page</p>
		<div class="file-warning" id="file-warning">Bạn đang mở file từ máy (file://). Để quét QR mở được trên thiết bị khác, hãy đưa trang lên web (VD: GitHub Pages, Netlify) rồi mở bằng link https://...</div>
		<span class="admin-link">Admin: <a href="index.html?admin=1">Vào trực tiếp</a></span>
	</div>

	<script>
		(function() {
			var base = window.location.href.split('?')[0].split('#')[0];
			var isFile = base.indexOf('file://') === 0;
			if (isFile) {
				document.getElementById('file-warning').style.display = 'block';
			}
			// QR trỏ thẳng vào trang thiệp (index.html?admin=1)
			var cardUrl = base.replace(/login\.html$/i, 'index.html') + '?admin=1';
			document.getElementById('qrcode-container').innerHTML = '';
			new QRCode(document.getElementById('qrcode-container'), {
				text: cardUrl,
				width: 260,
				height: 260
			});
		})();
	</script>
</body>
</html>
